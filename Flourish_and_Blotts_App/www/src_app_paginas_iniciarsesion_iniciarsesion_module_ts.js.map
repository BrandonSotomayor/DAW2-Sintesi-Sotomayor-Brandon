{"version":3,"file":"src_app_paginas_iniciarsesion_iniciarsesion_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEE;AAEzD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAiB;KAC7B;CACF,CAAC;IAMW,8BAA8B,SAA9B,8BAA8B;CAAG;AAAjC,8BAA8B;IAJ1C,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,8BAA8B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBF;AACM;AACF;AAEA;AAEmC;AAEvB;IAW5C,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IATnC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yFAA8B;SAC/B;QACD,YAAY,EAAE,CAAC,kEAAiB,CAAC;KAClC,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACnB2B;AACb;AACT;AACoB;IAOhD,iBAAiB,SAAjB,iBAAiB;IAM5B,YAAoB,OAAe,EAAU,YAAyB,EAAS,KAAiB;QAA5E,YAAO,GAAP,OAAO,CAAQ;QAAU,iBAAY,GAAZ,YAAY,CAAa;QAAS,UAAK,GAAL,KAAK,CAAY;QAJxF,aAAQ,GAAW,yBAAyB,CAAC;QAC9C,uBAAkB,GAAW,EAAE,CAAC;QAChC,eAAU,GAAW,EAAE,CAAC;QAG7B,IAAK,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,EAAG;YAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAC,uBAAuB,CAAC,CAAC,CAAC;YAC3D,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;SAChC;aACI;YACH,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAC,eAAe,CAAC,CAAC,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;SACnC;IACH,CAAC;IAEK,cAAc;;YAClB;yCAC6B;YAC7B,IAAI;gBACA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;gBACzF,IAAG,QAAQ,EAAE;oBACT,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAC,uBAAuB,CAAC,CAAC,CAAC;iBAC9D;aACJ;YAAC,OAAM,KAAK,EAAE;gBACX,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aACzB;QACH,CAAC;KAAA;IAED,QAAQ;IACR,CAAC;CAEF;;YAzCQ,mDAAM;YACN,uEAAW;YAHX,4DAAU;;AAUN,iBAAiB;IAL7B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,0EAAwC;;KAEzC,CAAC;GACW,iBAAiB,CAiC7B;AAjC6B","sources":["./src/app/paginas/iniciarsesion/iniciarsesion-routing.module.ts","./src/app/paginas/iniciarsesion/iniciarsesion.module.ts","./src/app/paginas/iniciarsesion/iniciarsesion.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IniciarsesionPage } from './iniciarsesion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IniciarsesionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IniciarsesionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IniciarsesionPageRoutingModule } from './iniciarsesion-routing.module';\n\nimport { IniciarsesionPage } from './iniciarsesion.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IniciarsesionPageRoutingModule\n  ],\n  declarations: [IniciarsesionPage]\n})\nexport class IniciarsesionPageModule {}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/servicios/auth.service';\n\n@Component({\n  selector: 'app-iniciarsesion',\n  templateUrl: './iniciarsesion.page.html',\n  styleUrls: ['./iniciarsesion.page.scss'],\n})\nexport class IniciarsesionPage implements OnInit {\n\n  private BASE_URL: string = \"http://localhost:80/api\";\n  public correo_electronico: string = '';\n  public contrasena: string = '';\n\n  constructor(private _router: Router, private _authService: AuthService, public _http: HttpClient) {\n    if ( this._authService.isUserAuthenticated() ) {\n      this._router.navigate([\"paginas\",'privada-administrador']);\n      console.log('cesion iniciada');\n    }\n    else {\n      this._router.navigate([\"paginas\",'iniciarsesion']);\n      console.log('cesion no iniciada');\n    }\n  }\n  \n  async iniciar_sesion(): Promise<void> {\n    /*L'estructura try/catch ens permet gestionar qualsevol error de xarxa en la\n    comunicaci√≥ amb el servidor*/\n    try {\n        const response = await this._authService.login(this.correo_electronico, this.contrasena);\n        if(response) {\n            this._router.navigate([\"paginas\",'privada-administrador']);\n        }\n    } catch(error) {\n        console.log(\"Error!\");\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}